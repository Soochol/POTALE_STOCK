{
  "permissions": {
    "allow": [
      "Bash(sqlite3 data/database/stock_data.db \"SELECT name, block2_min_candles_after_block1 as ''B2_min'', block2_max_candles_after_block1 as ''B2_max'', block3_min_candles_after_block2 as ''B3_min'', block3_max_candles_after_block2 as ''B3_max'', block4_min_candles_after_block3 as ''B4_min'', block4_max_candles_after_block3 as ''B4_max'' FROM redetection_condition_preset WHERE name=''default_redetect'';\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT COUNT(*) as total FROM block1_detection WHERE condition_name=''redetection'' AND pattern_id IN (SELECT id FROM pattern WHERE ticker=''025980'');\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT COUNT(*) as ''Block1 Redetection'' FROM block1_detection WHERE condition_name=''redetection'' AND ticker=''025980'';\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT COUNT(*) as ''Block2 Redetection'' FROM block2_detection WHERE condition_name=''redetection'' AND ticker=''025980'';\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT COUNT(*) as ''Block3 Redetection'' FROM block3_detection WHERE condition_name=''redetection'' AND ticker=''025980'';\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT id, ticker, block1_seed_id, block2_seed_id, block3_seed_id FROM block_pattern WHERE ticker=''025980'' ORDER BY id DESC LIMIT 5;\")",
      "Bash(sqlite3 data/database/stock_data.db \"PRAGMA table_info(block_pattern);\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, ticker, seed_block1_id, seed_block2_id, seed_block3_id FROM block_pattern WHERE ticker=''025980'' ORDER BY pattern_id DESC LIMIT 5;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT COUNT(*) FROM block1_detection WHERE condition_name=''redetection'' AND pattern_id=73;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, COUNT(*) as redetect_count FROM block1_detection WHERE condition_name=''redetection'' AND ticker=''025980'' GROUP BY pattern_id ORDER BY redetect_count DESC LIMIT 5;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id FROM block1_detection WHERE condition_name=''redetection'' AND ticker=''025980'' LIMIT 5;\")",
      "Bash(sqlite3 data/database/stock_data.db \"PRAGMA table_info(block1_detection);\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, started_at FROM block1_detection WHERE condition_name=''redetection'' AND ticker=''025980'' ORDER BY started_at LIMIT 10;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, COUNT(*) as count FROM block1_detection WHERE condition_name=''redetection'' GROUP BY pattern_id ORDER BY pattern_id;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, condition_name, started_at FROM block1_detection WHERE ticker=''025980'' AND condition_name=''redetection'' ORDER BY started_at LIMIT 10;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, condition_name, started_at FROM block1_detection WHERE ticker=''025980'' AND condition_name=''redetection'' ORDER BY pattern_id, started_at LIMIT 10;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT DISTINCT pattern_id FROM block1_detection WHERE condition_name=''redetection'' ORDER BY pattern_id;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, COUNT(*) as count FROM block1_detection WHERE condition_name=''redetection'' AND pattern_id IS NOT NULL GROUP BY pattern_id ORDER BY pattern_id;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, ticker, seed_block1_id FROM block_pattern WHERE ticker=''025980'' ORDER BY pattern_id DESC LIMIT 5;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, COUNT(*) FROM block2_detection WHERE condition_name=''redetection'' AND pattern_id IS NOT NULL GROUP BY pattern_id ORDER BY pattern_id;\")",
      "Bash(sqlite3 data/database/stock_data.db \"SELECT pattern_id, COUNT(*) FROM block3_detection WHERE condition_name=''redetection'' AND pattern_id IS NOT NULL GROUP BY pattern_id ORDER BY pattern_id;\")",
      "Bash(git add -A)",
      "Bash(del \"data\\database\\stock_data.db\")",
      "Bash(if not exist .vscode mkdir .vscode)",
      "Bash(git checkout:*)",
      "Bash(if [ -d \"migrations\" ])",
      "Bash(then echo \"migrations folder exists\")",
      "Bash(else mkdir migrations)",
      "Bash(for file in src/infrastructure/repositories/detection/block{2,3,4}_repository.py)",
      "Bash(do)",
      "Bash(if grep -q \"from sqlalchemy.orm import joinedload\" \"$file\")",
      "Bash(then)",
      "Bash(echo:*)",
      "Bash(else)",
      "Bash(done)",
      "Bash(.venvScriptspython.exe migrationsmigrate_add_peak_volume_to_block1.py)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_add_peak_volume_to_block1.py)",
      "Bash(\".venv/Scripts/python.exe\" -m pip install pytest pytest-cov pytest-asyncio pytest-mock faker --quiet)",
      "Bash(\".venv/Scripts/python.exe\" -m pytest tests/unit/entities/test_block1_detection.py -v)",
      "Bash(\".venv/Scripts/python.exe\" -m pytest:*)",
      "Bash(uv pip list:*)",
      "Bash(uv pip install:*)",
      "Bash(uv run python:*)",
      "Bash(sqlite3:*)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_remove_high_above_ma.py)",
      "Bash(\".venv/Scripts/python.exe\" scripts/update_presets_from_yaml.py)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_rename_months_to_days.py)",
      "Bash(\".venv/Scripts/python.exe\" scripts/detect_patterns.py --ticker 025980 --from-date 2015-01-01)",
      "Bash(\".venv/Scripts/python.exe\" scripts/detect_patterns.py --ticker 025980 --from-date 2015-01-01 --verbose)",
      "Bash(timeout:*)",
      "Bash(git add:*)",
      "Bash(git rm:*)",
      "Bash(git push)",
      "Bash(git commit:*)",
      "Bash(\".venv/Scripts/python.exe\" scripts/collect_single_ticker.py --ticker 180640 --from-date 2015-01-01)",
      "Bash(\".venv/Scripts/python.exe\" scripts/detect_patterns.py --ticker 180640 --from-date 2015-01-01 --verbose)",
      "Bash(copy datadatabasestock_data.db datadatabasestock_data_backup_before_cooldown_rename.db)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_rename_cooldown_to_min_start_interval.py)",
      "Bash(\".venv/Scripts/python.exe\" -m pytest tests/unit/entities/test_base_entry_condition.py -v)",
      "Bash(copy:*)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_unified_schema_update.py)",
      "Bash(python migrations/migrate_unified_schema_update.py:*)",
      "Bash(python scripts/update_presets_from_yaml.py:*)",
      "Bash(python:*)",
      "Bash(\".venv/Scripts/python.exe\" migrations/verify_system_health.py)",
      "Bash(\".venv/Scripts/python.exe\" migrations/migrate_add_auto_exit_on_next_block.py)",
      "Bash(.venv/Scripts/python.exe:*)",
      "Bash(del data/database/stock_data.db)",
      "Bash(git log:*)",
      "Bash(\".venv/Scripts/python.exe\" -m pytest tests/unit/infrastructure/test_price_utils.py -v)",
      "Bash(.venv/Scripts/python.exe -m pytest tests/unit/infrastructure/test_price_utils.py -v)",
      "Bash(if not exist docsarchive mkdir docsarchive)",
      "Bash(git mv:*)",
      "Bash(del srclearningfeature_engineeringdataset_builder.py srclearningmodelsblock_classifier.py)",
      "Bash(del scriptsml_systemgenerate_synthetic_labels.py scriptsml_systemimport_block_labels.py scriptsml_systembuild_block_dataset.py scriptsml_systemtrain_block_classifier.py scriptsml_systemtest_full_pipeline.py)",
      "Bash(del migrationsmigrate_add_block_label_table.py)",
      "Bash(move docsspecificationAI_BLOCK_DETECTION.md docsarchiveAI_BLOCK_DETECTION_V1.md)",
      "Bash(del presetsfeature_configsblock_classifier_v1.yaml)",
      "Read(//c/**)",
      "Bash(cd:*)"
    ],
    "deny": [],
    "ask": []
  }
}
